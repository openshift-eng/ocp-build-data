releases:

  ec.0:
    assembly:
      basis:
        brew_event: 59905459
        reference_releases:
          ppc64le: 4.18.0-0.nightly-ppc64le-2024-08-27-051934
          s390x: 4.18.0-0.nightly-s390x-2024-08-27-051931
          x86_64: 4.18.0-0.nightly-2024-08-27-051932
      group:
        advisories:
          extras: 138188
          image: 138189
          metadata: 138190
          microshift: 138191
          prerelease: 138192
          rpm: 138193
        operator_index_mode: pre-release
        release_jira: ART-10610
        upgrades: 4.17.0-rc.0,4.17.0-rc.1
      members:
        images:
        - distgit_key: ose-machine-os-images
          metadata:
            is:
              nvr: ose-machine-os-images-container-v4.18.0-202408261944.p0.g9e76dac.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-network-tools
          metadata:
            is:
              nvr: ose-network-tools-container-v4.18.0-202408261944.p0.gfbad0c5.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-ovn-kubernetes
          metadata:
            is:
              nvr: ose-ovn-kubernetes-container-v4.18.0-202408261944.p0.g4b17dc2.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ovn-kubernetes-microshift
          metadata:
            is:
              nvr: ovn-kubernetes-microshift-container-v4.18.0-202408261944.p0.g4b17dc2.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer
          metadata:
            is:
              nvr: ose-installer-container-v4.18.0-202408261944.p0.gc57ed9e.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer-artifacts
          metadata:
            is:
              nvr: ose-installer-artifacts-container-v4.18.0-202408261944.p0.gc57ed9e.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        rpms:
        - distgit_key: openshift-clients
          why: Pin openshift-clients to match RHCOS
          metadata:
            is:
              el9: openshift-clients-4.18.0-202408212212.p0.g08282df.assembly.stream.el9
              el8: openshift-clients-4.18.0-202408212212.p0.g08282df.assembly.stream.el8
        - distgit_key: microshift
          why: Pin microshift to assembly
          metadata:
            is:
              el9: microshift-4.18.0~ec.0-202409020818.p0.g9d54e4c.assembly.ec.0.el9
      permits:
      - code: CONFLICTING_INHERITED_DEPENDENCY
        component: ose-agent-installer-api-server
      - code: CONFLICTING_INHERITED_DEPENDENCY
        component: rhcos
      - code: CONFLICTING_INHERITED_DEPENDENCY
        component: rhcos
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: '*'
      rhcos:
        rhel-coreos:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e16239c8f600ab2528c6af6150b11d0b1c9cea1b36b7a1dc1e10f8181e277850
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:ee6832d5b166d08708d6056b87e6fbd72b9ecee0cb0108406d1d8b4817c4f883
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a318e117ac522e0cb1488f9e2c1a5c023b777c164ef628af2f985e7b3f91c3b5
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:3454a541c450fd387aed874218e367776d94710a3cfc8827a20744717c445e11
        rhel-coreos-extensions:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6b4f12295c95c71b9af87ec66771bc757e7606605f370ef79de29dc2bab9c607
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:70fb44935fb59546867feed05737f32c1cdf3ee97aedc23c5317121f51394721
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:64ec6535f394cea48e3a3933a28957917c7b5fb0373e781561ab7a54e065ff16
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7c99c8b69c232c2ec7c077a7339af392036c085ec4e821ea242e5dba7a643426
      type: preview

  stream:
    assembly:
      type: stream
      permits:
      - code: OUTDATED_RPMS_IN_STREAM_BUILD
        component: '*'
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: rhcos
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: openshift-clients
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: local-storage-mustgather
      members:
        images:
        - distgit_key: '*'
          why: Exclude rpm updates that should not cause mass rebuilds
          metadata:
            scan_sources:
              exempt_rpms:
              - redhat-release*  # documents rhel release notes and concerns
              - tzdata
