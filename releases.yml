releases:
  stream:
    assembly:
      type: stream
      permits:
      # why: No releases during break and RHCOS build pipelines may be disabled/erratic
      - code: OUTDATED_RPMS_IN_STREAM_BUILD
        component: 'rhcos'
      - code: INCONSISTENT_RHCOS_RPMS
        component: 'rhcos'
  art3595:
    assembly:
      type: custom
      basis:
        assembly: art3594
        reference_releases!: {}
      members:
        images:
        - distgit_key: presto
          why: fix a CVE
          metadata:
            content:
              source:
                git:
                  branch:
                    target: 190688a74d54c300160ec481096cde81a95f82c1
            is:
              nvr: presto-container-v4.6.0-202112150545.p0.g190688a.assembly.art3595
        - distgit_key: hadoop
          why: fix a CVE
          metadata:
            content:
              source:
                git:
                  branch:
                    target: f3811454298b8074e323c8cef0a48836dd8aec00
            is:
              nvr: hadoop-container-v4.6.0-202112150545.p0.gf381145.assembly.art3595
        - distgit_key: ose-metering-ansible-operator
          why: fix a CVE
          # metadata:
          #   is:
          #     nvr: ose-metering-ansible-operator-container-v4.6.0-202112150545.p0.gd74112d.assembly.art3595
        - distgit_key: hive
          why: fix a CVE
          metadata:
            is:
              nvr: hive-container-v4.6.0-202112160147.p0.gf139e12.assembly.stream
  art3594:
    assembly:
      type: custom
      basis:
        assembly: "4.6.52"
        reference_releases!: {}
      members:
        images:
        - distgit_key: hive
          why: fix a CVE
          metadata:
            is:
              nvr: hive-container-v4.6.0-202112140546.p0.g8b9da97.assembly.stream
        - distgit_key: ose-metering-ansible-operator
          why: fix a CVE
          metadata:
            is:
              nvr: ose-metering-ansible-operator-container-v4.6.0-202112140831.p0.gd74112d.assembly.art3594
        - distgit_key: logging-elasticsearch6
          why: fix a CVE
          metadata:
            is:
              nvr: logging-elasticsearch6-container-v4.6.0-202112132021.p0.g2a13a81.assembly.stream
        - distgit_key: elasticsearch-operator
          why: fix a CVE
          metadata:
            is:
              nvr: elasticsearch-operator-container-v4.6.0-202112132021.p0.gd421c69.assembly.stream
  art3594:
    assembly:
      type: custom
      basis:
        assembly: "4.6.52"
        reference_releases!: {}
      members:
        images:
        - distgit_key: hive
          why: fix a CVE
          metadata:
            is:
              nvr: hive-container-v4.6.0-202112140546.p0.g8b9da97.assembly.stream
        - distgit_key: ose-metering-ansible-operator
          why: fix a CVE
          metadata:
            is:
              nvr: ose-metering-ansible-operator-container-v4.6.0-202112140831.p0.gd74112d.assembly.art3594
        - distgit_key: logging-elasticsearch6
          why: fix a CVE
          metadata:
            is:
              nvr: logging-elasticsearch6-container-v4.6.0-202112132021.p0.g2a13a81.assembly.stream
        - distgit_key: elasticsearch-operator
          why: fix a CVE
          metadata:
            is:
              nvr: elasticsearch-operator-container-v4.6.0-202112132021.p0.gd421c69.assembly.stream
  4.6.52:
    assembly:
      basis:
        brew_event: 42748578
        reference_releases:
          ppc64le: 4.6.0-0.nightly-ppc64le-2021-12-06-014818
          s390x: 4.6.0-0.nightly-s390x-2021-12-06-014820
          x86_64: 4.6.0-0.nightly-2021-12-06-014835
      group:
        advisories:
          image: 85490
          rpm: 85489
          extras: 85491
          metadata: 85492
        release_jira: OCPPLAN-8010
      members:
        images:
        - distgit_key: ose-metering-ansible-operator
          why: fix a CVE
          metadata:
            is:
              nvr: ose-metering-ansible-operator-container-v4.6.0-202112140831.p0.gd74112d.assembly.art3594
        - distgit_key: elasticsearch-operator
          why: fix a CVE
          metadata:
            is:
              nvr: elasticsearch-operator-container-v4.6.0-202112140939.p0.gd421c69.assembly.art3594
      rhcos:
        machine-os-content:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:54e335f252271f30db60bb8baf2ef7ad19b89fbe036dcc18f75b7c9c6957f1b6
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e2c5cb1d2c72a823d68e78c007e806a434258d67561362af65c218edd1da04ee
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6ea6c6f23e0fe047c5813c0607c3bed53dc6bcf2c1064f8fc72235236aacc182
      type: standard
  4.6.51:
    assembly:
      basis:
        # respin to include a newer jenkins image
        assembly: "4.6.50"
        reference_releases!: {}
      group:
        dependencies:
          rpms:
          - el8: jenkins-2-plugins-4.6.1637602169-1.el8
            why: to match the selected jenkins image
            non_gc_tag: rhaos-4.6-rhel-8
        advisories:
          image: 84690
          rpm: 84688
          extras: 84693
          metadata: 84694
        release_jira: OCPPLAN-7813
      members:
        images:
        - distgit_key: openshift-jenkins-2
          why: to include a newer jenkins image
          metadata:
            is:
              nvr: openshift-jenkins-2-container-v4.6.0-202111221751.p0.g3c3794f.assembly.stream
        - distgit_key: driver-toolkit
          why: to include a newer kernel
          metadata:
            is:
              nvr: driver-toolkit-container-v4.6.0-202111260505.p0.gbd508e2.assembly.4.6.51
  4.6.50:
    assembly:
      basis:
        brew_event: 42535433
        reference_releases:
          # was ppc64le: 4.6.0-0.nightly-ppc64le-2021-11-22-174210
          s390x: 4.6.0-0.nightly-s390x-2021-11-22-174213
          x86_64: 4.6.0-0.nightly-2021-11-22-174225
      group:
        advisories:
          image: 84690
          rpm: 84688
          extras: 84693
          metadata: 84694
        release_jira: OCPPLAN-7813
      members:
        images: []
        rpms: []
      rhcos:
        machine-os-content:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:55cc05105daaf1811b7c69b728504b31a22e8247d4d2bf236ec74e90be41ffe0
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9240d3363ed6a828d0e121d0d62d649e2e8c61e43203a9488cf41497ff78862b
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:621fb2b8c111242a0056105331f57bdeaccfc36f1165985c943af13cf3c5929c
      type: standard
  4.6.48:
    assembly:
      basis:
        brew_event: 41488073
        reference_releases:
          ppc64le: 4.6.0-0.nightly-ppc64le-2021-10-12-183457
          s390x: 4.6.0-0.nightly-s390x-2021-10-12-183500
          x86_64: 4.6.0-0.nightly-2021-10-12-183516
      group:
        advisories:
          image: 82705
          rpm: 82704
          extras: 82706
          metadata: 82707
        release_jira: OCPPLAN-7395
        dependencies:
          rpms:
          - el8: coreos-installer-0.6.0-3.rhaos4.6.el8
            why: RHCOS uses an older coreos-installer
            non_gc_tag: rhaos-4.6-rhel-8
          - el8: podman-1.9.3-3.rhaos4.6.el8
            why: RHCOS uses an older podman
            non_gc_tag: rhaos-4.6-rhel-8
      members:
        images: []
        rpms: []
      rhcos:
        machine-os-content:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:1c5b13391ee9194568bff47c924f4147f84aaffa9a1f5790436445a5a9e8d5bd
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:1853d4cfad2c15bdbc8abf18eab0f08e1b5d75082fef9a6c7def9a04ecdaaf8a
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9572e1fdee7e9937437c7f77e544428acf6f55ba2830da8b4d045f1fe12d4947
      type: standard
  4.6.47:
    assembly:
      basis:
        brew_event: 41358905
        reference_releases:
          ppc64le: 4.6.0-0.nightly-ppc64le-2021-10-05-160004
          s390x: 4.6.0-0.nightly-s390x-2021-10-05-160007
          x86_64: 4.6.0-0.nightly-2021-10-05-160021
      group:
        advisories:
          image: 82413
          rpm: 82412
          extras: 82414
          metadata: 82415
        release_jira: OCPPLAN-7351
      members:
        images: []
        rpms: []
      rhcos:
        machine-os-content:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:88a27f2d2276070fb5262dd9ad91be74c7940f87da856c122297c1d111a1a86b
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:775083077005b09cab3ec517b92194af3bba0c38ddacbfeddd985901fc89ba53
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9f932c4e3e65c840cd97d082e24918e2d0b46e7b388b50ac0186f197c97482be
      type: standard
  4.6.46:
    assembly:
      basis:
        brew_event: 41175178
        reference_releases:
          ppc64le: 4.6.0-0.nightly-ppc64le-2021-09-21-161110
          s390x: 4.6.0-0.nightly-s390x-2021-09-21-161113
          x86_64: 4.6.0-0.nightly-2021-09-21-161128
      group:
        advisories:
          image: 81814
          rpm: 81813
          extras: 81815
          metadata: 81816
        release_jira: OCPPLAN-7292
      members:
        images: []
        rpms: []
      rhcos:
        machine-os-content:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2703b19c386af43e7b0a9df953bf53d913558aa76bc26c519e6f5d08d492a048
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:3851d36de68cf134c7b28c97fa993ba2705dff065be139dd570c2dfaee8bba43
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:0a25e40c8f8056d0c5d6708e6dec1b5f35dce3abeb391f81d0e24f298f7baad4
      type: standard
  4.6.45:
    assembly:
      basis:
        brew_event: 40978966
        reference_releases:
          ppc64le: 4.6.0-0.nightly-ppc64le-2021-09-13-175912
          s390x: 4.6.0-0.nightly-s390x-2021-09-13-175910
          x86_64: 4.6.0-0.nightly-2021-09-13-181051
      group:
        advisories:
          image: 81464
          rpm: 81463
          extras: 81465
          metadata: 81466
        release_jira: OCPPLAN-7256
      members:
        images: []
        rpms: []
      rhcos:
        machine-os-content:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e9b129c8f41803c7a45af47748ad580948efd7e431785074b53f15825fc989cf
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8c63752392a521747440e21a036102c2c36a8eaab533410220048cbc72fee627
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f37b66f662f253343d8fb4d9f89fd5e68eb9bad210102d32d9340336ef4ebad2
      type: standard
  4.6.44:
    assembly:
      basis:
        brew_event: 40831384
        reference_releases:
          ppc64le: 4.6.0-0.nightly-ppc64le-2021-09-01-164151
          s390x: 4.6.0-0.nightly-s390x-2021-09-01-164150
          x86_64: 4.6.0-0.nightly-2021-09-01-164200
      group:
        advisories:
          image: 80918
          rpm: 80917
          extras: 80919
          metadata: 80920
        release_jira: OCPPLAN-7169
      members:
        images: []
        rpms: []
      rhcos:
        machine-os-content:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:80988d7a671b1f0727a9b9f8a5e9d1234246b3d54065650e8a35959d2a203a53
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2ff99c1e8f22f0938ecc60733131ba7d554a175b28d05864d9cc3c105df5615d
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:fb0db3ffa4588abfc2c5befd8318e6015ae01207175a1e3697451668f35acd77
      type: standard
  art3171:
    assembly:
      type: custom
      members:
        images:
        - distgit_key: '*'
          why: test cachito integration for all images
          metadata:
            container_yaml!: {}
            content:
              source:
                pkg_managers!:
                - gomod
