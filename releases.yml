releases:
  # WARNING: do not use this assembly for GA
  # see https://redhat-internal.slack.com/archives/CB95J6R4N/p1765837022676159
  rc.0:
    assembly:
      type: candidate
      basis:
        time: "2025-12-14T06:01:17+00:00"
        reference_releases:
          x86_64: 4.21.0-0.nightly-2025-12-14-092323
      group:
        advisories:
          rpm: 154550
          rhcos: 157362
          microshift: 157498
        release_jira: ART-14107
        shipment:
          advisories:
            - kind: image
              live_id: 16017
            - kind: extras
              live_id: 16018
            - kind: metadata
              live_id: 16019
            - kind: fbc
          env: stage
          url: https://gitlab.cee.redhat.com/hybrid-platforms/art/ocp-shipment-data/-/merge_requests/281
        release_date: 2026-Feb-01
        upgrades: 4.20.8,4.21.0-ec.0,4.21.0-ec.2,4.21.0-ec.3
      permits:
        - code: CONFLICTING_INHERITED_DEPENDENCY
          component: rhcos
      rhcos:
        rhel-coreos:
          images:
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a4b51f91be40177d9b5666ef6cf3232b44bf1151ce37179ce44dc476d89a9cb6
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:ec137a007a01857c8945c65f964b62b0bea72b0c79293dac6f2fb7f564ff7feb
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8679ed4af3dea3697d4162e30251b8c6c09a1aacba6ac8d295d1d1d4b9079aa7
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:3d9c266d5f6ce4748a2d6c4e08e2ebdbd483fb507033427a0850579137c56ce9
        rhel-coreos-10:
          images:
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:18d09e698ad10cccfa9f18ebd99c4490d4276afd3c2adad3112a4652cceca0b4
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:57085ac0d17d8330a8920cabc5daea5128097e686203beb2d420e877b38d44fc
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:91f40afb6e0a65c7d04bd0338ed9bd2722a31ddf88b22a6a1ff16a8d532de7dc
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:fd7cd7d51ab7352028cd89fe0cdf194df076d36b7cf964582922caa41a250887
        rhel-coreos-10-extensions:
          images:
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f4116c0a1ab7b16414bab17efab0e3d42582f964bde9008244bf38692b5f8d62
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:be9ca9c4444abb2258a2a25702a24f437b549df25bdcbd5f74969ddfb6ef31c1
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f23ce45334fbe3300856e3ee2d53d310ee2f3eae0603b9c9c603d6edf5dad14e
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:37247e56df08a3ffdb51a1c4e63b401127d678f8b264a9f18237f40a9e051cec
        rhel-coreos-extensions:
          images:
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f25e24a7d7292e91b0daeb2272bb8443d39ee048733199ff60aabbb33111bdaa
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7d182849d7ffbbbfb08c3d42e524937c06609f68d230b06fc66286c7955e7ad3
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9025697972041ae2c962af41e7685725f7f993331af75c8a9e9ed9acfa51bc6f
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f23f2731f1374261793918d1bf792a2e39df5df8acdd5504c3a54deccfa6e302
      members:
        rpms:
          - distgit_key: microshift
            why: Pin microshift to assembly
            metadata:
              is:
                el9: microshift-4.21.0~rc.0-202512191500.p0.gd9d327c.assembly.rc.0.el9
        images:
          - distgit_key: microshift-bootc
            metadata:
              is:
                nvr: microshift-bootc-container-v4.21.0-202512191535.p2.gd9d327c.assembly.rc.0.el9
            why: Pin microshift-bootc image to assembly
  ec.3:
    assembly:
      type: preview
      basis:
        time: "2025-11-13T03:37:23+00:00"
        reference_releases:
          x86_64: 4.21.0-0.nightly-2025-11-13-042845
      group:
        advisories:
          microshift: -1
          rhcos: -1
          rpm: 154550
        release_jira: ART-14107
        operator_index_mode: pre-release
        shipment:
          advisories:
            - kind: image
              live_id: 16017
            - kind: extras
              live_id: 16018
            - kind: metadata
              live_id: 16019
            - kind: fbc
          env: stage
          url: https://gitlab.cee.redhat.com/hybrid-platforms/art/ocp-shipment-data/-/merge_requests/242
        release_date: 2026-Feb-01
        upgrades: 4.20.3,4.20.4,4.21.0-ec.0,4.21.0-ec.2
      permits:
        - code: CONFLICTING_INHERITED_DEPENDENCY
          component: rhcos
        - code: CONFLICTING_GROUP_RPM_INSTALLED
          component: rhcos
      rhcos:
        rhel-coreos:
          images:
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:526e083ec2b1b6e105ec9062ed92ef77074e4138c9da7dd691d8eba0075eb12e
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:12724ba1fadbceb893126d3d954ecaf99e58bf228f6632b2778f1d073295089e
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8b2eb0a4c8dcba0b31fb24813988a13064eba4e9386d8f6e671fb99173ba845a
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:234c14093561a7b91a50b63fed4e8ecfa38bdd3e165eddff079b3839d1662647
        rhel-coreos-extensions:
          images:
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:facb02619e7d3e1fbaeb18063532420391a2cc528bd231f8101159dcf1f7b144
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:649661542dd3306ed868f0f536423968a4822e22d940195ed042149e9c71681a
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8c396e00635a5fdf53b1ebf774d1e974258a9fc0491fdd9d21e006b44c1b8e43
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:fa066da8a0ed2c55a09a9b93b8050477c5ac997435400ac120857fb163797909
      members:
        rpms:
          - distgit_key: openshift-clients
            why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
            metadata:
              is:
                el8: openshift-clients-4.21.0-202511040653.p2.g1c5f490.assembly.stream.el8
                el9: openshift-clients-4.21.0-202511040653.p2.g1c5f490.assembly.stream.el9
                el10: openshift-clients-4.21.0-202511040653.p2.g1c5f490.assembly.stream.el10
          - distgit_key: microshift
            why: Pin microshift to assembly
            metadata:
              is:
                el9: microshift-4.21.0~ec.3-202512040955.p0.g763e10c.assembly.ec.3.el9
        images:
          - distgit_key: microshift-bootc
            metadata:
              is:
                nvr: microshift-bootc-container-v4.21.0-202512051002.p2.g1505610.assembly.ec.3.el9
            why: Pin microshift-bootc image to assembly
  ec.2:
    assembly:
      type: preview
      basis:
        time: "2025-10-19T15:58:13+00:00"
        reference_releases:
          x86_64: 4.21.0-0.nightly-2025-10-19-181151
      group:
        advisories:
          rpm: 154550
        release_jira: ART-14107
        operator_index_mode: pre-release
        shipment:
          advisories:
            - kind: image
              live_id: 16017
            - kind: extras
              live_id: 16018
            - kind: metadata
              live_id: 16019
            - kind: fbc
          env: stage
          url: https://gitlab.cee.redhat.com/hybrid-platforms/art/ocp-shipment-data/-/merge_requests/185
        release_date: 2026-Feb-01
        upgrades: 4.20.0,4.21.0-ec.0
      permits:
        - code: CONFLICTING_INHERITED_DEPENDENCY
          component: rhcos
      rhcos:
        rhel-coreos:
          images:
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:c7ba2a9638c369c24f9d564f9bfa8d59154df08085bb75510454b98aa0fda51e
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:626212c2d296a02a550b53e3389676f0134897a90a0a5b55f28d8ee9f4fb50b2
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:ad3118315800da30a607c55658ceb89402cfeb92984146222f1557df226588ec
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:3224eb29126739141c563418c31c761b5a9669163c48e740af1aca1a583f382b
        rhel-coreos-extensions:
          images:
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:adc29f335c59babe9f2ac31dac2e219f9a038534665b5b4440cb5c724e330eae
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:39ec3f5ff826cf662a9691df02aab45fd51ae2d8c8d46afda7276342bb6401b5
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a085d138ecb48d6dbffaef73fb93b6b105133ff9bc6223b60056bf0f4f6ab5ba
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8f6575fb55a22450a5237517b98e65d3996a51171bba0533606b0342b593f59b
      members:
        rpms: []
        images: []
  ec.1:
    assembly:
      type: preview
      basis:
        time: "2025-09-27T15:12:28+00:00"
        reference_releases:
          x86_64: 4.21.0-0.nightly-2025-09-27-154726
      group:
        advisories:
          rpm: 154550
        release_jira: ART-14107
        operator_index_mode: pre-release
        shipment:
          advisories:
            - kind: image
              live_id: 16017
            - kind: extras
              live_id: 16018
            - kind: metadata
              live_id: 16019
            - kind: fbc
          env: stage
          url: https://gitlab.cee.redhat.com/hybrid-platforms/art/ocp-shipment-data/-/merge_requests/141
        release_date: 2026-Jan-1
        upgrades: 4.20.0-rc.0,4.20.0-rc.1,4.20.0-rc.2,4.20.0-rc.3,4.21.0-ec.0
      permits:
        - code: CONFLICTING_INHERITED_DEPENDENCY
          component: rhcos
        - code: CONFLICTING_GROUP_RPM_INSTALLED
          component: rhcos
      rhcos:
        rhel-coreos:
          images:
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9c96201065b398013ce8e2a3079507c668b21c24fc451943eac272432dd511ca
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:ea170df1a23630c8125e017813143da149639d9dce505acd160c4df8be835994
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:095a73f40e1e03c0efe0d52e24201187bb787b978405cf29cdea5235fa9ff251
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:17741e9aca632af56aa4b0d543bd82613dec84f35af70654f187150bb9cc421a
        rhel-coreos-extensions:
          images:
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:da2af23954a7f1ce12eda71b5111739fceb6f69bda31ed75d9ae5259f525d1ea
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:41f4ecca0ee50a928e0c9c482f9d6e6f8641724feb386829829e65c27779eaf9
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e6ff1230fe0af13fa1a7d26a47a6fed280bfd135f5a37d9715fe67085144a216
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e20a81495d810db28798eb2939a44e130efaa1259b66d3da0f8398b3ee3c637d
      members:
        rpms: []
        images: []
  ec.0:
    assembly:
      type: preview
      basis:
        time: "2025-09-08T01:31:35+00:00"
        reference_releases:
          ppc64le: 4.21.0-0.nightly-ppc64le-2025-09-08-035238
          s390x: 4.21.0-0.nightly-s390x-2025-09-08-035233
          aarch64: 4.21.0-0.nightly-arm64-2025-09-08-035244
          x86_64: 4.21.0-0.nightly-2025-09-08-035253
      group:
        # 4.21 product versions are not configured in ET so regular advisories cannot be prepared
        # advisories:
        #   rpm: 154550
        #   rhcos: -1
        #   microshift: -1
        release_jira: ART-14107
        operator_index_mode: pre-release
        dependencies:
          rpms:
          # For microshift bootc
            - el9: cri-o-1.34.0-4.rhaos4.21.git941066d.el9
              why: on request, microshift team
              non_gc_tag: rhaos-4.21-rhel-9
        shipment:
          advisories:
            - kind: image
              live_id: 16017
            - kind: extras
              live_id: 16018
            - kind: metadata
              live_id: 16019
            - kind: fbc
          env: stage
          url: https://gitlab.cee.redhat.com/hybrid-platforms/art/ocp-shipment-data/-/merge_requests/119
        release_date: 2026-Jan-1
        upgrades: 4.20.0-rc.1,4.20.0-rc.2,4.20.0-rc.3
      permits:
        - code: CONFLICTING_INHERITED_DEPENDENCY
          component: rhcos
        - code: CONFLICTING_GROUP_RPM_INSTALLED
          component: rhcos
      rhcos:
        rhel-coreos:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:27cadc004a1a454a18ae2b6e8e3fd30bfeab3ebef151ea41a869bbc83b942273
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4c3ccc6c992da58e35be1460b9e83dfeac56caf42627f5a0d3959b5ad7ca8659
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:13c26488a89937f736ae9d3232fe75c0b325cef572c085a5ee19c73eb4b6b70f
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:eb116198e37f8cd0d70217ebf224620455d5f1166e5e9973f6c969a24997a864
        rhel-coreos-extensions:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8af21d32d83250e9ac97de32cae718fc32238aa737ff64c35e580c98eddca4db
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:80697158ff65e9ae8612e39c86099dbadb213dd20474436852c153db570479db
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a4b9e86ba8fd44b09a5a9fda482770b850fd4aa9ab85e995d2f69900d31126a5
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2b568b6e1aca332f316bcd5119a7e22e76ec06db8891968187b58ce320081ced
      members:
        rpms:
          - distgit_key: microshift
            why: microshift team askes to use a specified commit
            metadata:
              content:
                source:
                  git:
                    branch:
                      target: a88f42833d122e0bd3c47e2eb43e25f6c5024f8e
              is:
                el9: microshift-4.21.0~ec.0-202509221556.p0.ga88f428.assembly.ec.0.el9
        images: []
  minimal:
    assembly:
      group:
        repos:
          rhel-9-baseos-rpms:
            conf:
              baseurl:
                x86_64: https://rhsm-pulp.corp.redhat.com/content/dist/rhel9/9.6/x86_64/baseos/os/
                aarch64: https://rhsm-pulp.corp.redhat.com/content/dist/rhel9/9.6/aarch64/baseos/os/
                ppc64le: https://rhsm-pulp.corp.redhat.com/content/dist/rhel9/9.6/ppc64le/baseos/os/
                s390x: https://rhsm-pulp.corp.redhat.com/content/dist/rhel9/9.6/s390x/baseos/os/
          rhel-9-appstream-rpms:
            conf:
              baseurl:
                aarch64: https://rhsm-pulp.corp.redhat.com/content/dist/rhel9/9.6/aarch64/appstream/os/
                ppc64le: https://rhsm-pulp.corp.redhat.com/content/dist/rhel9/9.6/ppc64le/appstream/os/
                s390x: https://rhsm-pulp.corp.redhat.com/content/dist/rhel9/9.6/s390x/appstream/os/
                x86_64: https://rhsm-pulp.corp.redhat.com/content/dist/rhel9/9.6/x86_64/appstream/os/
      type: stream
      streams:
        rhel9:
          image: registry.redhat.io/ubi9/ubi-minimal@sha256:34880b64c07f28f64d95737f82f891516de9a3b43583f39970f7bf8e4cfa48b7
          upstream_image: registry.ci.openshift.org/ocp/builder:ubi9-minimal-openshift-{MAJOR}.{MINOR}.art
          mirror: false
  stream:
    assembly:
      type: stream
      permits:
        - code: OUTDATED_RPMS_IN_STREAM_BUILD
          component: '*'
          # Temporary during RHCOS outage to prevent
          # driver toolkit issue. Drive toolkit will
          # fail in the release controller.
        - code: FAILED_CONSISTENCY_REQUIREMENT
          component: '*'
      prerelease_permits:
        - code: OUTDATED_RPMS_IN_STREAM_BUILD
          component: '*'
        - code: CONFLICTING_GROUP_RPM_INSTALLED
          component: rhcos
        - code: CONFLICTING_GROUP_RPM_INSTALLED
          component: openshift-clients
        - code: CONFLICTING_GROUP_RPM_INSTALLED
          component: local-storage-mustgather
        # RHCOS extensions temporarily use inconsistent RPMs between arches.
        # ref. https://redhat-internal.slack.com/archives/C01CQA76KMX/p1738863088399379
        - code: INCONSISTENT_RHCOS_RPMS
          component: rhcos
        - code: MISMATCHED_SIBLINGS
          component: '*'
        - code: FAILED_CONSISTENCY_REQUIREMENT
          component: '*'
      members:
        images:
          - distgit_key: '*'
            why: Exclude rpm updates that should not cause mass rebuilds
            metadata:
              scan_sources:
                exempt_rpms:
                  - redhat-release* # documents rhel release notes and concerns
                  - tzdata
                  # Temporary to prevent mass rebuilds
                  # - libgcrypt
                  # - "openssl*"
                  # - "*libc*"
