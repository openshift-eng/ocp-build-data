releases:
  ec.0:
    assembly:
      type: preview
      basis:
        time: "2025-09-08T01:31:35+00:00"
        reference_releases:
          ppc64le: 4.21.0-0.nightly-ppc64le-2025-09-08-035238
          s390x: 4.21.0-0.nightly-s390x-2025-09-08-035233
          aarch64: 4.21.0-0.nightly-arm64-2025-09-08-035244
          x86_64: 4.21.0-0.nightly-2025-09-08-035253
      group:
        # 4.21 product versions are not configured in ET so regular advisories cannot be prepared
        # advisories:
        #   rpm: 154550
        #   rhcos: -1
        #   microshift: -1
        release_jira: ART-14107
        operator_index_mode: pre-release
        dependencies:
          rpms:
          # For microshift bootc
            - el9: cri-o-1.34.0-4.rhaos4.21.git941066d.el9
              why: on request, microshift team
              non_gc_tag: rhaos-4.21-rhel-9
        shipment:
          advisories:
            - kind: image
              live_id: 16017
            - kind: extras
              live_id: 16018
            - kind: metadata
              live_id: 16019
            - kind: fbc
          env: stage
          url: https://gitlab.cee.redhat.com/hybrid-platforms/art/ocp-shipment-data/-/merge_requests/119
        release_date: 2026-Jan-1
        upgrades: 4.20.0-rc.1,4.20.0-rc.2,4.20.0-rc.3
      permits:
        - code: CONFLICTING_INHERITED_DEPENDENCY
          component: rhcos
        - code: CONFLICTING_GROUP_RPM_INSTALLED
          component: rhcos
      rhcos:
        rhel-coreos:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:27cadc004a1a454a18ae2b6e8e3fd30bfeab3ebef151ea41a869bbc83b942273
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4c3ccc6c992da58e35be1460b9e83dfeac56caf42627f5a0d3959b5ad7ca8659
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:13c26488a89937f736ae9d3232fe75c0b325cef572c085a5ee19c73eb4b6b70f
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:eb116198e37f8cd0d70217ebf224620455d5f1166e5e9973f6c969a24997a864
        rhel-coreos-extensions:
          images:
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8af21d32d83250e9ac97de32cae718fc32238aa737ff64c35e580c98eddca4db
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:80697158ff65e9ae8612e39c86099dbadb213dd20474436852c153db570479db
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a4b9e86ba8fd44b09a5a9fda482770b850fd4aa9ab85e995d2f69900d31126a5
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2b568b6e1aca332f316bcd5119a7e22e76ec06db8891968187b58ce320081ced
      members:
        rpms:
          - distgit_key: microshift
            why: microshift team askes to use a specified commit
            metadata:
              content:
                source:
                  git:
                    branch:
                      target: a88f42833d122e0bd3c47e2eb43e25f6c5024f8e
              is:
                el9: microshift-4.21.0~ec.0-202509221556.p0.ga88f428.assembly.ec.0.el9
        images: []
  stream:
    assembly:
      type: stream
      permits:
        - code: OUTDATED_RPMS_IN_STREAM_BUILD
          component: '*'
      prerelease_permits:
        - code: OUTDATED_RPMS_IN_STREAM_BUILD
          component: '*'
        - code: CONFLICTING_GROUP_RPM_INSTALLED
          component: rhcos
        - code: CONFLICTING_GROUP_RPM_INSTALLED
          component: openshift-clients
        - code: CONFLICTING_GROUP_RPM_INSTALLED
          component: local-storage-mustgather
        # RHCOS extensions temporarily use inconsistent RPMs between arches.
        # ref. https://redhat-internal.slack.com/archives/C01CQA76KMX/p1738863088399379
        - code: INCONSISTENT_RHCOS_RPMS
          component: rhcos
        - code: MISMATCHED_SIBLINGS
          component: '*'
      members:
        images:
          - distgit_key: '*'
            why: Exclude rpm updates that should not cause mass rebuilds
            metadata:
              scan_sources:
                exempt_rpms:
                  - redhat-release* # documents rhel release notes and concerns
                  - tzdata
                  # Temporary to prevent mass rebuilds
                  # - libgcrypt
                  # - "openssl*"
                  # - "*libc*"
