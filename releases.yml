releases:
  ec.3:
    assembly:
      basis:
        brew_event: 54951679
        reference_releases:
          x86_64: 4.15.0-0.nightly-2023-11-28-101923
      group:
        advisories:
          extras: 123982
          image: 123983
          metadata: 123984
          microshift: 123985
          rpm: 123986
          prerelease: 123948
        release_jira: ART-8258
        upgrades: 4.14.4,4.14.5,4.15.0-ec.0,4.15.0-ec.1,4.15.0-ec.2
      permits:
      # for ECs and RCs this should not block us
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: 'rhcos'
      members:
        images:
        - distgit_key: ose-machine-os-images
          metadata:
            arches:
            - x86_64
            - aarch64
            - ppc64le
          why: s390x build did not exist at assembly time https://github.com/openshift-eng/ocp-build-data/pull/3974/files
        rpms:
        - distgit_key: microshift
          why: Pin microshift to assembly
          metadata:
            is:
              el9: microshift-4.15.0~ec.3-202312011637.p0.g15d4469.assembly.ec.3.el9
      rhcos:
        machine-os-content:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6d99549c42f264d93f7e35179e0f3a5abd75a8ab6a722efd447af3f8153ebfa3
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:589fde99d9ef200aaabc72ec8e2f8cc4b1aecbe834b94d885e5ecca7439f069e
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6398931d0b85d01ff511576684989283d84e5c50b0412fd11a6045fd31c3a424
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:fba3aa37856e4905c2560b329189d6d95c1cdbf717b8af15e7e81b80c9ea68d3
        rhel-coreos:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:637f7361b13720583ff31746da6147b83c3a17ee1c27f4f1b7b85c3e5e94fe8f
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:cadf5af01f477d06e9e495d614a45a5db84c8f1176c3b91890f605a6366a414d
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bc52d031db002cb4984ce876e7808576eb9db3d84ad4ab958f52b9ce57600384
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:484457c3cc758688678ef5aa4f86cd3f963910c3b1d80ed1e8230505fb0b4884
        rhel-coreos-extensions:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:90dc651a398de379c0fbbdad98989f08e7a262603d2b1eb681abc6fc9eba810a
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:3d4d18c1ccad49492b025af73bb4bc25862b94ee9b934332f7330f60827cbf66
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bc48b89fdf1e07bb3092010fe52164dfd5019afe481db9207c7ef9f4cfc33e3e
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:1d1abb00dfaf623f249b7b5f6750b676a6b51259c3f7ffeba641e329dff8c6db
      type: preview

  ec.2:
    assembly:
      basis:
        brew_event: 54628929
        reference_releases:
          aarch64: 4.15.0-0.nightly-arm64-2023-11-08-043336
          ppc64le: 4.15.0-0.nightly-ppc64le-2023-11-08-023421
          s390x: 4.15.0-0.nightly-s390x-2023-11-08-010126
          x86_64: 4.15.0-0.nightly-2023-11-08-062604
      group:
        advisories:
          extras: 123982
          image: 123983
          metadata: 123984
          microshift: 123985
          rpm: 123986
          prerelease: 123948
        rhcos:
          payload_tags:
          # this tag was included at the time these nightlies formed, removed after:
          - name: machine-os-content
            build_metadata_key: oscontainer
        upgrades: 4.14.0-rc.0,4.14.0-rc.1,4.14.0-rc.2,4.14.0-rc.3,4.14.0-rc.4,4.14.0-rc.5,4.14.0-rc.6,4.14.0-rc.7,4.14.0,4.14.1,4.14.2,4.15.0-ec.0,4.15.0-ec.1
        release_jira: ART-8258
      members:
        images:
        - distgit_key: ose-aws-ebs-csi-driver-operator
          why: Get config to state from before https://github.com/openshift-eng/ocp-build-data/pull/3670
          metadata:
            content:
              source:
                git:
                  url: git@github.com:openshift-priv/aws-ebs-csi-driver-operator.git
            is:
              nvr: ose-aws-ebs-csi-driver-operator-container-v4.15.0-202311031046.p0.gc301e73.assembly.stream
        rpms:
        - distgit_key: microshift
          why: Pin microshift to assembly
          metadata:
            is:
              el9: microshift-4.15.0~ec.2-202311141514.p0.g428c95d.assembly.ec.2.el9
      rhcos:
        machine-os-content:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:88dcb6818dc5e46b82cc4b5894cd657c1fe27df1f8d31236b1bae6ed3559200a
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:94648840a0c3e91a8c9cce6accaa6d44040d92db0623d6362bf48145b13c755b
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:68a86686a240a91dffa197a4a436323af35ceb9d1a1a927c7ff26676f73da6f8
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:1de93a0718dec66ac313c5eb4b187fd8ad86ae96bad32fbb5986895bdd655497
        rhel-coreos:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:06041f1d767014780a692b85d9e9d47e65c283a7fbfd6e8978e36423ec5e94b4
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a7adbacf3b53760c7434d4aa541cbce244b7b1b8185e0b7d62c3a4f000f61874
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:79070c0eec2712cd909b0f21ebcb68dc48af8c04a2613b41c053bcd663911156
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e03c9248f78a107efb8b12430d46304e8d93981d23fd932e159d518ed675bc92
        rhel-coreos-extensions:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:078a37c80d9ce4a4b408ee4f960ff60b5a31ce7ba95b9b24d6f344c7e93c56ae
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9f29476fcc23a2b064cb0e35481ba9f8628738244cfa3246269d1714ce0e9d7c
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:85f3d30e0dc708b652b3f8d208364fdf4963530b4a303a8b1b32309e58a486cc
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:87b9b6ee833389fe1f6e4c5e50f5f416bd437c9c5ee767121245aefcbc391e67
      type: preview

  ec.1:
    assembly:
      basis:
        brew_event: 54234911
        reference_releases:
          aarch64: 4.15.0-0.nightly-arm64-2023-10-17-032052
          ppc64le: 4.15.0-0.nightly-ppc64le-2023-10-17-024055
          s390x: 4.15.0-0.nightly-s390x-2023-10-17-024055
          x86_64: 4.15.0-0.nightly-2023-10-17-065657
      group:
        advisories:
          prerelease: 121241
        upgrades: 4.14.0-rc.0,4.14.0-rc.1,4.14.0-rc.2,4.14.0-rc.3,4.14.0-rc.4,4.14.0-rc.5,4.14.0-rc.6,4.15.0-ec.0
        operator_index_mode: pre-release
      members:
        images:
        - distgit_key: ingress-node-firewall-operator
          why: adjust to updated ingress-node-firewall-rhel9 CDN repo
          metadata:
            is:
              nvr: ingress-node-firewall-operator-container-v4.15.0-202310200429.p0.ged5294c.assembly.stream
        - distgit_key: ingress-node-firewall-daemon
          why: adjust to updated ingress-node-firewall-rhel9 CDN repo
          metadata:
            is:
              nvr: ingress-node-firewall-daemon-container-v4.15.0-202310200429.p0.ged5294c.assembly.stream
        rpms:
        - distgit_key: microshift
          why: Pin microshift to assembly
          metadata:
            is:
              el9: microshift-4.15.0~ec.1-202310230745.p0.g85bcc47.assembly.ec.1.el9
      rhcos:
        machine-os-content:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e38fc5f29216c9eea4fd581022f9bc6dfdfe8e675efc6ac7fa8db85261822e27
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e27e26091323594edf027168819f2f33a0136e60364854d63c41346d1c5f2e30
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:266df1cdd317f93ba9c1973aac45bee9292e1dc59c0e2e18a4113f749d23fd8c
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:d71a09b2ae98a113dd69c08e4415e6afc0fbb42deeb8eb915b3de1be233b4d8b
        rhel-coreos:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9ef7d59963cee4459f182458270a34ee18cfc8b85acdc31c7d9bc5448e11e352
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:121c3e3e304b97fc26b5f9468e1a963a9efed3230e41ba6c14d4a6ca1d57fd6f
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:ea15f483a44ad6a0af81e96ffbd8be8d98ff6bf04dd42d1339d618bc8aa851ee
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:65d7e0310bce9a0becd6a8c335f48e6e1b7fe0f9b7e6fb668ec8d6f03e4dfcbb
        rhel-coreos-extensions:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:57839ea2fcbe2f50831edb634851e889c776d53f04ba3fd7167f1980b218d16e
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:943b588c433ff67df1a72902fb533ea888dcbe8e3aea1f7cd4e12a257d31be86
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:71f05625d90fc1d31e426c791fde9322ded14fb5a57e7137be2b3907781d8872
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:727786197c09568655a94578f3b749b39b1c81506f424c65a04393f4492d8a3a
      type: preview

  ec.0:
    assembly:
      basis:
        brew_event: 53865025
        reference_releases:
          aarch64: 4.15.0-0.nightly-arm64-2023-09-27-065746
          ppc64le: 4.15.0-0.nightly-ppc64le-2023-09-27-065746
          s390x: 4.15.0-0.nightly-s390x-2023-09-27-065745
          x86_64: 4.15.0-0.nightly-2023-09-27-073353
      group:
        upgrades: 4.14.0-ec.0,4.14.0-ec.1,4.14.0-ec.2,4.14.0-ec.3,4.14.0-ec.4,4.14.0-rc.0,4.14.0-rc.1,4.14.0-rc.2,4.14.0-rc.3
      members:
        images: []
        rpms: []
      rhcos:
        machine-os-content:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:87a9174886d982ccf1ed9ebdb9a9568ec8c15a8c781afe797a38b3240d8d9cc3
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4e07581ce21ace43c601f2784ec4f33967c428eede1fcbee84378ec16670b53e
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:c19fd84a50e7263b8a33396924b5f665c2323a29aec9b0ad3467a418b58b7f39
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:c62a6a59d45a06290fd2fb4c738c5ecea378d656c189806e2d32e56d5b547dbf
        rhel-coreos:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:36f62523da3a8c1db825e6ed205cc0a74623d3e1d758c4ab2b5503f9e14b0886
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:1b77495c2461adb292b9dbcc4801d1792941c8b916e02f16bc5ad2e942546e8d
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:d8d530b9899522b7fe16a59a6f386e1dbc943b5eac993259a0b67dd15c2f9257
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f8c41d16ee784c46b6d6973a9564d3d44bfeaa02ceb6ce97d3a3bf841c1b1d21
        rhel-coreos-extensions:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:b8d9a225172a89b876e4a37f4d0abd4f6d8cb588621c619142e35c254a5db103
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:5cff16eac7683145101d27408a49279c8c6d5899bcfaeaf7c6a29dfdef766581
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:2a13225244a7584dfa98def62f7a3fa73444f019632ce65e5e33328b8c992216
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:e6e2af4553cf778a1c01ac0d020e475e8dc5a0c69d63382ebb126cb2773078c0
      type: preview

  stream:
    assembly:
      type: stream
      permits:
      - code: OUTDATED_RPMS_IN_STREAM_BUILD
        component: '*'
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: rhcos
      members:
        images:
        - distgit_key: '*'
          why: Exclude package updates that should not cause mass rebuilds
          metadata:
            scan_sources:
              exempted_packages:
              - redhat-release  # documents rhel release notes and concerns
              - tzdata
