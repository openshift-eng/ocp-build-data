releases:

  ec.3:
    assembly:
      basis:
        brew_event: 59470068
        reference_releases:
          x86_64: 4.17.0-0.nightly-2024-08-06-034102
      group:
        advisories:
          extras: 133187
          image: 133188
          metadata: 133189
          microshift: 133190
          prerelease: 137310
          rpm: 133192
        operator_index_mode: pre-release
        release_jira: ART-9847
        upgrades: 4.16.0,4.16.1,4.16.2,4.16.3,4.16.4,4.16.5,4.16.6,4.16.7,4.17.0-ec.0,4.17.0-ec.1,4.17.0-ec.2
      members:
        images:
        - distgit_key: ose-installer-altinfra
          metadata:
            is:
              nvr: ose-installer-altinfra-container-v4.17.0-202408060014.p0.ga49ddeb.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: openshift-enterprise-tests
          metadata:
            is:
              nvr: openshift-enterprise-tests-container-v4.17.0-202408060014.p0.ged8c948.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-baremetal-installer
          metadata:
            is:
              nvr: ose-baremetal-installer-container-v4.17.0-202408060014.p0.ga49ddeb.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer-artifacts
          metadata:
            is:
              nvr: ose-installer-artifacts-container-v4.17.0-202408060014.p0.ga49ddeb.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: hypershift
          metadata:
            is:
              nvr: ose-hypershift-container-v4.17.0-202408060014.p0.gd59907b.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-machine-os-images
          metadata:
            is:
              nvr: ose-machine-os-images-container-v4.17.0-202408060014.p0.g9e76dac.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer
          metadata:
            is:
              nvr: ose-installer-container-v4.17.0-202408060014.p0.ga49ddeb.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        rpms:
        - distgit_key: openshift
          why: Match the version in RHCOS
          metadata:
            is:
              el9: openshift-4.17.0-202408011546.p0.g1cc018a.assembly.stream.el9
              el8: openshift-4.17.0-202408011546.p0.g1cc018a.assembly.stream.el8
      rhcos:
        rhel-coreos:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:bbded66f6472b294a5107292af8fef9bdc57e0252325a282296b544963cb501a
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6ed1b3b320ee0cdebeff456e728baea9bf70ba068b579257260cd404f2f0624e
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8e8e3bcc2d5ebe2900882dee8b13e60e222161ef25aaaa2ef282fbb11c716617
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:fc1c42aa0657502e47207124ebbfcf434154ce4e1e1b01b38552541adef8ca0c
        rhel-coreos-extensions:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7529e1840b029715f4076413e23d000cfc69a50876ea1f4fe0906bd267c78aa1
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4daaad3f01d18150a6acf72f4b38a18d151ff84a70c11a7b52da992077feea6b
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9c7400dd0b33f32100b315407131582be5b39e38ad9a40de7497681c2eae8821
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:184d92dedcf61b9b75d6796a9970f6e75c6e36a5cc657b4c3b75e8d1a8eec519
      type: preview

  ec.2:
    assembly:
      basis:
        brew_event: 59048690
        reference_releases:
          x86_64: 4.17.0-0.nightly-2024-07-15-034821
      group:
        advisories:
          extras: 133187
          image: 133188
          metadata: 133189
          microshift: 133190
          prerelease: 136319
          rpm: 133192
        operator_index_mode: pre-release
        release_jira: ART-9847
        upgrades: 4.16.0,4.16.1,4.16.2,4.16.3,4.17.0-ec.0,4.17.0-ec.1
      members:
        images:
        - distgit_key: ose-baremetal-installer
          metadata:
            is:
              nvr: ose-baremetal-installer-container-v4.17.0-202407142211.p0.g54e81ef.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-machine-os-images
          metadata:
            is:
              nvr: ose-machine-os-images-container-v4.17.0-202407142211.p0.g9e76dac.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer
          metadata:
            is:
              nvr: ose-installer-container-v4.17.0-202407142211.p0.g54e81ef.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer-altinfra
          metadata:
            is:
              nvr: ose-installer-altinfra-container-v4.17.0-202407142211.p0.g54e81ef.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer-artifacts
          metadata:
            is:
              nvr: ose-installer-artifacts-container-v4.17.0-202407142211.p0.g54e81ef.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        rpms:
        - distgit_key: microshift
          why: Pin microshift to assembly
          metadata:
            is:
              el9: microshift-4.17.0~ec.2-202407191549.p0.gdcc3c9d.assembly.ec.2.el9
      rhcos:
        rhel-coreos:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:65a8c87326aed663453a7e8317bc0bbd22925d4f77ed871e7c736a844cf044c1
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:cbf03c8d8e351d0882e395fa51dd9a2cc5d14ff2ed7412b49c83e7b97fe63006
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:077ae70ef1ad95d8a011e0a6a2eeed6d4b56b149ccb6df55a05b19302b1f795e
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6ce84e12babffc0cc61efedc43f1d9acbe0526e90e8b7356bad73593fa6e9f44
        rhel-coreos-extensions:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:42db124a447139bf63c5d14c314505c4fb38d7b613a4eea2447b6c8103ca8b29
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:14f8773126c6d9403726c7577396fe9efc5078e097b787c03786387b0334217e
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:8053d59304687e7b11faba283287c064abe4dc70117acc8e68c57b867da1d082
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:ddf9d4a27cdc6e70ff210fed1279a95001ce55b46233c798e2a8a81af2629523
      type: preview

  ec.1:
    assembly:
      basis:
        brew_event: 58703183
        reference_releases:
          aarch64: 4.17.0-0.nightly-arm64-2024-06-25-104321
          ppc64le: 4.17.0-0.nightly-ppc64le-2024-06-25-104321
          s390x: 4.17.0-0.nightly-s390x-2024-06-25-104322
          x86_64: 4.17.0-0.nightly-2024-06-25-162526
      group:
        advisories:
          extras: 133187
          image: 133188
          metadata: 133189
          microshift: 133190
          prerelease: 135133
          rpm: 133192
        operator_index_mode: pre-release
        release_jira: ART-9847
        upgrades: 4.16.0,4.17.0-ec.0
      permits:
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: rhcos
      - code: CONFLICTING_INHERITED_DEPENDENCY
        component: rhcos
      members:
        images:
        - distgit_key: driver-toolkit
          metadata:
            is:
              nvr: driver-toolkit-container-v4.17.0-202406101017.p0.g859518f.assembly.stream.el9
          why: pin the latest verion of driver-toolkit-container. Pinning to replicate.
        - distgit_key: ose-machine-os-images
          metadata:
            is:
              nvr: ose-machine-os-images-container-v4.17.0-202406242311.p0.g9e76dac.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: operator-registry
          metadata:
            is:
              nvr: operator-registry-container-v4.17.0-202406250241.p0.g02e3f41.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-machine-config-operator
          metadata:
            is:
              nvr: ose-machine-config-operator-container-v4.17.0-202406250241.p0.g58aca69.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer-artifacts
          metadata:
            is:
              nvr: ose-installer-artifacts-container-v4.17.0-202406242311.p0.g490865b.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: operator-lifecycle-manager
          metadata:
            is:
              nvr: operator-lifecycle-manager-container-v4.17.0-202406250241.p0.g02e3f41.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-multus-admission-controller
          metadata:
            is:
              nvr: ose-multus-admission-controller-container-v4.17.0-202406250241.p0.g076f0ca.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: monitoring-plugin
          metadata:
            is:
              nvr: monitoring-plugin-container-v4.17.0-202406250412.p0.g7307218.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: hypershift
          metadata:
            is:
              nvr: ose-hypershift-container-v4.17.0-202406250412.p0.g3efa23b.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-multus-whereabouts-ipam-cni
          metadata:
            is:
              nvr: ose-multus-whereabouts-ipam-cni-container-v4.17.0-202406250241.p0.g2a7ff07.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: openshift-enterprise-console
          metadata:
            is:
              nvr: openshift-enterprise-console-container-v4.17.0-202406250412.p0.g24f2005.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        rpms:
        - distgit_key: microshift
          why: Pin microshift to assembly
          metadata:
            is:
              el9: microshift-4.17.0~ec.1-202407010245.p0.g2dd42e5.assembly.ec.1.el9
      rhcos:
        rhel-coreos:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6452eeac5f6e8397b3cde844a954c01c8ffeea654be51a16741e5fa30942a5fa
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:a0481bef8b8e6274e7a80e5549b988a89e7c31fd7947a60b9cf3cec7c8ba1488
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:59231606ab299b07e9bc99a5b038285028bd0111c2262cb5b8c16a92874ce033
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab7b8bdb9f6ddde8d3f860324cacbb2e2ec7438b4228aadbf6fcb71dc1aa307
        rhel-coreos-extensions:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:d2e90047769fefa93eda0ff5eb2a042ad770675b49e4b767a1486223e7c165c4
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6e6299bd7c2e08fccda469961be738ac9b4f6391e155a4c2b56d49ae06b6b4fb
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:b4d102ebe88f6f4f2a2f30f77debfeacf829c4e6d476b2ab1d433bb9b5ecbaf8
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:9af9706fa436bfc95940ef165c7a90302ce8907e5fcdb59e6cbdf542d7ba2d47
      type: preview

  ec.0:
    assembly:
      basis:
        brew_event: 58352304
        reference_releases: {}
          # x86_64: 4.17.0-0.nightly-2024-06-05-034505
      group:
        advisories:
          extras: 133187
          image: 133188
          metadata: 133189
          microshift: 133190
          prerelease: 133191
          rpm: 133192
        operator_index_mode: pre-release
        release_jira: ART-9847
        upgrades: 4.16.0-rc.3
      members:
        images:
        - distgit_key: ose-machine-os-images
          metadata:
            is:
              nvr: ose-machine-os-images-container-v4.17.0-202406050012.p0.g9e76dac.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer-altinfra
          metadata:
            is:
              nvr: ose-installer-altinfra-container-v4.17.0-202406050012.p0.g7534f9b.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-openstack-cinder-csi-driver-operator
          metadata:
            is:
              nvr: ose-openstack-cinder-csi-driver-operator-container-v4.17.0-202406050012.p0.g81e16ff.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: driver-toolkit
          metadata:
            is:
              nvr: driver-toolkit-container-v4.17.0-202406050012.p0.g859518f.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-baremetal-installer
          metadata:
            is:
              nvr: ose-baremetal-installer-container-v4.17.0-202406050012.p0.g7534f9b.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: hypershift
          metadata:
            is:
              nvr: ose-hypershift-container-v4.17.0-202406050012.p0.gbe9e3f8.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: monitoring-plugin
          metadata:
            is:
              nvr: monitoring-plugin-container-v4.17.0-202406050012.p0.gd731be6.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer-artifacts
          metadata:
            is:
              nvr: ose-installer-artifacts-container-v4.17.0-202406050012.p0.g7534f9b.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: ose-installer
          metadata:
            is:
              nvr: ose-installer-container-v4.17.0-202406050012.p0.g7534f9b.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        - distgit_key: openshift-enterprise-console
          metadata:
            is:
              nvr: openshift-enterprise-console-container-v4.17.0-202406050012.p0.gd705546.assembly.stream.el9
          why: Query from assembly basis event failed to replicate referenced nightly content exactly. Pinning to replicate.
        rpms:
        - distgit_key: microshift
          why: Pin microshift to assembly
          metadata:
            is:
              el9: microshift-4.17.0~ec.0-202406101844.p0.ga0c0364.assembly.ec.0.el9
      rhcos:
        rhel-coreos:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:82459fa919f0e02c0abb8449f440e9697c6e4d73c71173fb123bedef7e2d0b1b
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:b5c9683968560f237331bd24633e099f9943eea59ea165baa367974affb3c869
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:4f887d9de9823cc35003069edca513720e193f7fd82c8266084f549b6e24d729
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:066b6a106c9d9dbd5f36de330eb4ce60afe5dfd35faf503f1ba58b1eb4508fa4
        rhel-coreos-extensions:
          images:
            aarch64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:03535675521f17fd5862d6740de24d673a6fe6d332baeda2b21f5630306cf33f
            ppc64le: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:f3f5a6cd9b5a4741f48d7a981562bddb449ca68e93b5f71b14266fc2f988f945
            s390x: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:6a5abc89ba2539b76cf7f19ab30aeb83907a520a34577a61d1186107da6952f3
            x86_64: quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:da2ad984b643196b931de91a22410e78202834aa50792dbb948a4b3461392695
      permits:
      - code: FAILED_CONSISTENCY_REQUIREMENT
        component: driver-toolkit
        # why: this was adjusted after the candidate nightlies were selected, so permit for this release
      - code: CONFLICTING_INHERITED_DEPENDENCY
        component: rhcos
        # why: rpms are not sourced from our candidate tags but rhel 9.4
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: rhcos
        # why: permit because it is permitted for nightlies
      type: preview

  stream:
    assembly:
      type: stream
      permits:
      - code: OUTDATED_RPMS_IN_STREAM_BUILD
        component: '*'
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: rhcos
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: openshift-clients
      - code: CONFLICTING_GROUP_RPM_INSTALLED
        component: local-storage-mustgather
      members:
        images:
        - distgit_key: '*'
          why: Exclude rpm updates that should not cause mass rebuilds
          metadata:
            scan_sources:
              exempt_rpms:
              - redhat-release*  # documents rhel release notes and concerns
              - tzdata
