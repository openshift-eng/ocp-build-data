cachito:
  enabled: true  # Cachito does not work with go 1.22 https://issues.redhat.com/browse/STONEBLD-2206, explicitly enabling for nodejs
content:
  source:
    dockerfile: Dockerfile.art
    git:
      branch:
        target: release-{MAJOR}.{MINOR}
      url: git@github.com:openshift-priv/nmstate-console-plugin.git
      web: https://github.com/openshift/nmstate-console-plugin
    modifications:
    - action: replace
      match: "COPY $REMOTE_SOURCES $REMOTE_SOURCES_DIR"
      replacement: |-
        COPY $REMOTE_SOURCES $REMOTE_SOURCES_DIR
        RUN touch $REMOTE_SOURCES_DIR/cachito-gomod-with-deps/app/registry-ca.pem $REMOTE_SOURCES_DIR/cachito-gomod-with-deps/app/.npmrc $REMOTE_SOURCES_DIR/cachito-gomod-with-deps/app/.yarnrc
    ci_alignment:
      streams_prs:
        ci_build_root:
          member: ci-openshift-build-root-latest.rhel9
    pkg_managers:
    - yarn
    artifacts:
      from_urls:
      - target: yarn-v1.22.19.tar.gz
        url: https://ocp-artifacts.engineering.redhat.com/pub/RHOCP/build-deps/openshift-enterprise-console/yarn-v1.22.19.tar.gz
        sha256: 732620bac8b1690d507274f025f3c6cfdc3627a84d9642e38a07452cc00e0f2e
        source-url: https://ocp-artifacts.engineering.redhat.com/pub/RHOCP/build-deps/openshift-enterprise-console/yarn-source-v1.22.19.tar.gz
        source-sha256: 50af0025d2ef942bf3e6cdd0587dc9c4dd8d6e6e69501b84935d09f2b2b5de8b
dependents:
- openshift-kubernetes-nmstate-operator
distgit:
  branch: rhaos-{MAJOR}.{MINOR}-rhel-9
  component: nmstate-console-plugin-container
delivery:
  # Maps to honeybadger repo_name
  repo_name: nmstate-console-plugin
  delivery_repo_names:
  - openshift4/nmstate-console-plugin-rhel9
enabled_repos:
- rhel-9-baseos-rpms
- rhel-9-appstream-rpms
for_payload: false
from:
  builder:
  - member: openshift-base-nodejs.rhel9
  member: openshift-enterprise-base-rhel9
name: openshift/nmstate-console-plugin-rhel9
name_in_bundle: nmstate-console-plugin-rhel8
owners:
- upalatuc@redhat.com
- bnemec@redhat.com
- yzamir@redhat.com
- phoracek@redhat.com
- fge@redhat.com
konflux:
  cachito:
    mode: emulation
  network_mode: open # fails due to npm install -g https://github.com/...
  cachi2:
    artifact_lockfile:
      resources:
      - name: ca-certificates