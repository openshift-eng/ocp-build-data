arches:
- x86_64
- ppc64le
content:
  source:
    dockerfile: Dockerfile.ocp
    git:
      branch:
        target: release-{MAJOR}.{MINOR}
      url: git@github.com:openshift-priv/ironic-ipa-downloader.git
enabled_repos:
- openstack-16-for-rhel-8-rpms
- rhel-8-appstream-rpms
- rhel-8-baseos-rpms
- rhel-8-server-ose-rpms
for_payload: true
from:
  builder:
  - stream: rhel
  stream: rhel
name: openshift/ose-ironic-ipa-downloader
owners:
- ironic-osp-owners@redhat.com
# This image dynamically installs a package on top of its builder image
# during the image build.
# https://github.com/openshift/ironic-ipa-downloader/blob/999c80f17472d5dbbd4775d901e1be026b239652/Dockerfile.ocp#L11-L14
# This is programmatically undetectable through
# koji, so we need to inform scan-sources to make image builds sensitive
# to this package.
scan_sources:
  extra_packages:
  - name: rhosp-director-images
    tag: rhaos-{MAJOR}.{MINOR}-rhel-8-candidate
non_shipping_repos:
- openstack-16-for-rhel-8-rpms
- rhel-8-server-ose-rpms
