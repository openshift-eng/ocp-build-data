arches:
- aarch64
- x86_64
content:
  source:
    dockerfile: Dockerfile.IntelP4.rhel
    git:
      branch:
        target: release-4.22
      url: git@github.com:openshift-priv/dpu-operator.git
      web: https://github.com/openshift/dpu-operator
    ci_alignment:
      streams_prs:
        ci_build_root:
          member: ci-openshift-build-root-latest.rhel9
dependents:
- dpu-operator
distgit:
  branch: rhaos-{MAJOR}.{MINOR}-rhel-9
  component: dpu-intel-ipu-p4sdk-container
delivery:
  repo_name: ose-dpu-intel-ipu-p4sdk
  delivery_repo_names:
  - openshift4/ose-dpu-intel-ipu-p4sdk-rhel9
for_payload: false
enabled_repos:
- rhel-9-baseos-rpms
- rhel-9-appstream-rpms
- rhel-9-fast-datapath-rpms
from:
  member: openshift-enterprise-base-rhel9
name: openshift/ose-dpu-intel-ipu-p4sdk-rhel9
name_in_bundle: dpu-intel-ipu-p4sdk
owners:
- wizhao@redhat.com
- konguyen@redhat.com
- bnemeth@redhat.com
- sdaniele@redhat.com
- vpunj@redhat.com
konflux:
  cachi2:
    lockfile:
      rpms:
      - "gcc-c++"
      - "libstdc++-devel"
      - "gcc"
      - "glibc-devel"
      - "binutils"
      - "libxcrypt-devel"
      - "pkgconf-pkg-config"
      - "pkgconf"
      - "cpp"
      - "pkgconf-m4"
      - "glibc-headers"
      - "kernel-headers"
      - "libmpc"
      - "libpkgconf"
      - "binutils-gold"
      - "elfutils-debuginfod-client"
      - "make"
  network_mode: open  # needs to declare netaddr in requirements.txt
okd:
  content:
    source:
      modifications:
      - action: replace
        match: "RUN chmod +x install-dpu.sh \\"
        replacement: |-
          # Create a pip.conf file to globally set --ignore-installed.
          # Needed as the base centos image has setuptools installed by a package manager
          RUN mkdir -p /root/.config/pip && \
              echo "[install]" > /root/.config/pip/pip.conf && \
              echo "ignore-installed = true" >> /root/.config/pip/pip.conf
          RUN chmod +x install-dpu.sh \
