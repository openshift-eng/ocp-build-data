content:
  set_build_variables: false
  source:
    path: images
    dockerfile: openshift-golang-builder.Dockerfile
    git:
      branch:
        target: golang-1.12
      url: git@github.com:openshift/ocp-build-data.git
distgit:
  branch: rhaos-4.2-rhel-7
enabled_repos:
- rhel-server-ose-build-rpms
from:
  image: openshift/ose-base:ubi7
labels:
  io.k8s.description: golang builder image for Red Hat internal builds
name: openshift/golang-builder
owners:
- aos-team-art@redhat.com

# Pushing this image to quay with this tag will cause dominoes to fall. The
# builder-base imagestream will detect the update, triggering buildconfigs
# on api.ci to create & expose new goloang images.
# Relevant PRs:
# - https://github.com/openshift/release/pull/5529
# - https://github.com/openshift/release/pull/5542
push:
  also:
  - registry.svc.ci.openshift.org/ocp/builder
  additional_tags:
  - 'rhel-7-golang-1.12'
  - 'rhel_7_golang_1.12'
  - 'rhel-7-golang-openshift-4.2'
  - 'rhel-7-golang-openshift-4.3'
  - 'golang-openshift-4.3'
  - 'golang-openshift-4.2'

# Tag in osbs for consumption by various streams.yml
additional_tags:
- '1.12'
- 'rhel_7_1.12'
- 'rhel_7_golang_1.12'
maintainer:
  component: Release
