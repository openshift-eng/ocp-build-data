arches:
- x86_64
- aarch64
content:
  source:
    dockerfile: Dockerfile.ocp
    git:
      branch:
        target: release-{MAJOR}.{MINOR}
      url: git@github.com:openshift-priv/ironic-image.git
      web: https://github.com/openshift/ironic-image
    pkg_managers:
    - pip
cachito:
  enabled: true
  packages:
    pip:
    - path: .
      requirements_files:
      - requirements.cachito
      - requirements-build.cachito
distgit:
  branch: rhaos-{MAJOR}.{MINOR}-rhel-9
  component: ironic-container
enabled_repos:
- rhel-9-baseos-rpms
- rhel-9-appstream-rpms
- rhel-9-server-ose-rpms-embargoed
- rhel-9-server-ironic-rpms
for_payload: true
from:
  builder:
  - member: openshift-base-rhel9
  member: openshift-base-rhel9
name: openshift/ose-ironic-rhel9
payload_name: ironic
owners:
- ironic-osp-owners@redhat.com
konflux:
  cachito:
    # Right now art-tools comments out lines with REMOTE_SOURCES_DIR as a temporary fix to cachito
    # But this image has indirect references to the env variable, which breaks builds.
    # Since this build works without commenting out the lines, keeping it in for now.
    comment: false
  network_mode: open
