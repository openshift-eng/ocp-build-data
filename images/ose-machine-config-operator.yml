content:
  source:
    dockerfile: Dockerfile.rhel7
    git:
      branch:
        target: release-{MAJOR}.{MINOR}
      url: git@github.com:openshift-priv/machine-config-operator.git
      web: https://github.com/openshift/machine-config-operator
    ci_alignment:
      streams_prs:
        ci_build_root:
          member: ci-openshift-build-root-latest.rhel9
distgit:
  branch: rhaos-{MAJOR}.{MINOR}-rhel-9
  component: ose-machine-config-operator-container
delivery:
  # Maps to honeybadger repo_name
  repo_name: ose-machine-config-operator
  delivery_repo_names:
  - openshift4/ose-machine-config-rhel9-operator
enabled_repos:
- rhel-9-baseos-rpms
- rhel-9-appstream-rpms
- rhel-9-server-ose-rpms-embargoed
# Generally doozer scan-sources will detect all possible change factors automatically and trigger rebuilds.
# However, certain images may consume RPMs in unexpected way that make it programmatically impossible to
# detect they were used.
scan_sources:
  # ovn-kubernetes uses pins in the Dockerfile.
  # We should configure exemptions for those known pins to avoid meaningless rebuild.
  # https://github.com/openshift/machine-config-operator/blob/2069e55cdb39419f9a127c5fed3673c560b4cc4e/Dockerfile.rhel7#L26
  exempt_rpms:
  - nmstate
for_payload: true
from:
  builder:
  - stream: rhel-9-golang
  - stream: rhel-8-golang
  member: openshift-enterprise-base-rhel9
name: openshift/ose-machine-config-rhel9-operator
payload_name: machine-config-operator
owners:
- jerzhang@redhat.com
- jkyros@redhat.com
- skumari@redhat.com
- zzlotnik@redhat.com
konflux:
  network_mode: open  # cannot install signed rpms from unreleased ose-rpms repo
