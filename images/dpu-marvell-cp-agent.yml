arches:
- aarch64
- x86_64
content:
  source:
    dockerfile: Dockerfile.mrvlCPAgent.rhel
    git:
      branch:
        target: release-{MAJOR}.{MINOR}
      url: git@github.com:openshift-priv/dpu-operator.git
      web: https://github.com/openshift/dpu-operator
    ci_alignment:
      streams_prs:
        ci_build_root:
          member: ci-openshift-build-root-latest.rhel9
dependents:
- dpu-operator
distgit:
  branch: rhaos-{MAJOR}.{MINOR}-rhel-9
  component: dpu-marvell-cp-agent-container
enabled_repos:
- rhel-9-minimal-baseos-rpms
- rhel-9-minimal-appstream-rpms
- rhel-9-codeready-builder-rpms
delivery:
  repo_name: ose-dpu-marvell-cp-agent
  delivery_repo_names:
  - openshift4/ose-dpu-marvell-cp-agent-rhel9
for_payload: false
from:
  builder:
  - stream: rhel-9-golang
  member: openshift-enterprise-base-rhel9-minimal
name: openshift/ose-dpu-marvell-cp-agent-rhel9
name_in_bundle: dpu-marvell-cp-agent
owners:
- bnemeth@redhat.com
- wizhao@redhat.com
konflux:
  cachi2:
    lockfile:
      rpms:
      - alternatives
      - annobin
      - attr
      - audit-libs
      - autoconf
      - binutils
      - binutils-gold
      - bzip2-libs
      - clang
      - clang-libs
      - clang-resource-filesystem
      - compiler-rt
      - coreutils-single
      - cpp
      - crypto-policies
      - crypto-policies-scripts
      - curl-minimal
      - dmidecode
      - dnf
      - dnf-data
      - elfutils-debuginfod-client
      - elfutils-default-yama-scope
      - elfutils-libelf
      - elfutils-libs
      - emacs-filesystem
      - expat
      - filesystem
      - findutils
      - fonts-srpm-macros
      - gawk
      - gcc
      - gcc-c++
      - gcc-plugin-annobin
      - gcc-toolset-13-gcc
      - gcc-toolset-13-gcc-c++
      - gcc-toolset-13-libstdc++-devel
      - gcc-toolset-14-binutils
      - gcc-toolset-14-gcc
      - gcc-toolset-14-gcc-c++
      - gcc-toolset-14-libstdc++-devel
      - gcc-toolset-14-runtime
      - gdb-gdbserver
      - gdbm-libs
      - git
      - git-core
      - git-core-doc
      - glib2
      - glib2-devel
      - glibc
      - glibc-common
      - glibc-devel
      - glibc-gconv-extra
      - glibc-headers
      - glibc-langpack-en
      - glibc-minimal-langpack
      - gnutls
      - go-srpm-macros
      - gpgme-devel
      - hwdata
      - ima-evm-utils
      - iproute
      - iputils
      - kernel-headers
      - keyutils
      - kmod
      - kmod-libs
      - krb5-devel
      - krb5-libs
      - less
      - libarchive
      - libatomic
      - libblkid
      - libblkid-devel
      - libbpf
      - libcom_err
      - libcom_err-devel
      - libconfig
      - libconfig-devel
      - libcurl-minimal
      - libdb
      - libdnf
      - libdnf-plugin-subscription-manager
      - libeconf
      - libfdisk
      - libgcc
      - libgcrypt
      - libgomp
      - libkadm5
      - libksba
      - libmount
      - libmount-devel
      - libnghttp2
      - libomp
      - libomp-devel
      - librhsm
      - libselinux
      - libselinux-devel
      - libselinux-utils
      - libsemanage
      - libsepol
      - libsepol-devel
      - libsmartcols
      - libsolv
      - libstdc++
      - libstdc++-devel
      - libtasn1
      - libtirpc
      - libtool
      - libtool-ltdl
      - libuser
      - libuuid
      - libxcrypt-compat
      - libxml2
      - libxml2-devel
      - libzstd
      - lld
      - lld-libs
      - llvm
      - llvm-libs
      - llvm-toolset
      - mingw64-binutils
      - mingw64-cpp
      - mingw64-crt
      - mingw64-filesystem
      - mingw64-gcc
      - mingw64-headers
      - mingw64-libgcc
      - mingw64-winpthreads
      - mingw64-winpthreads-static
      - mingw-binutils-generic
      - mingw-filesystem-base
      - ncurses
      - ncurses-base
      - ncurses-libs
      - nettle
      - net-tools
      - openldap
      - openssh
      - openssh-clients
      - openssl
      - openssl-devel
      - openssl-fips-provider
      - openssl-fips-provider-so
      - openssl-libs
      - p11-kit
      - p11-kit-trust
      - pam
      - pciutils
      - pciutils-libs
      - pcre
      - pcre2
      - pcre2-devel
      - pcre2-syntax
      - pcre2-utf16
      - pcre2-utf32
      - pcre-cpp
      - pcre-devel
      - pcre-utf16
      - pcre-utf32
      - perl-AutoLoader
      - perl-B
      - perl-base
      - perl-Class-Struct
      - perl-DynaLoader
      - perl-Errno
      - perl-Fcntl
      - perl-File-Basename
      - perl-File-Compare
      - perl-File-Copy
      - perl-File-Find
      - perl-FileHandle
      - perl-File-stat
      - perl-Getopt-Std
      - perl-Git
      - perl-if
      - perl-interpreter
      - perl-IO
      - perl-IO-Socket-SSL
      - perl-IPC-Open3
      - perl-lib
      - perl-libs
      - perl-mro
      - perl-NDBM_File
      - perl-Net-SSLeay
      - perl-overload
      - perl-overloading
      - perl-POSIX
      - perl-Scalar-List-Utils
      - perl-SelectSaver
      - perl-subs
      - perl-Symbol
      - perl-Term-Cap
      - perl-vars
      - pyproject-srpm-macros
      - python3
      - python3-audit
      - python3-cloud-what
      - python3-dnf
      - python3-dnf-plugins-core
      - python3-hawkey
      - python3-libdnf
      - python3-libs
      - python3-libselinux
      - python3-libsemanage
      - python3-pip-wheel
      - python3-requests
      - python3-rpm
      - python3-setuptools
      - python3-setuptools-wheel
      - python3-subscription-manager-rhsm
      - python3-systemd
      - python3-urllib3
      - python-srpm-macros
      - redhat-release
      - redhat-rpm-config
      - rootfiles
      - rpm
      - rpm-build-libs
      - rpm-libs
      - rpm-plugin-systemd-inhibit
      - rpm-sign-libs
      - rsync
      - shadow-utils
      - socat
      - sqlite-libs
      - subscription-manager
      - systemd
      - systemd-devel
      - systemd-libs
      - systemd-pam
      - systemd-rpm-macros
      - tar
      - tpm2-tss
      - unzip
      - usermode
      - util-linux
      - util-linux-core
      - vim-filesystem
      - vim-minimal
      - virt-what
      - which
      - yum
okd:
  enabled_repos:  # needed by the golang-builder stage, removed in the next layer by the modifications below
  - rhel-9-baseos-rpms
  - rhel-9-appstream-rpms
  - rhel-9-codeready-builder-rpms
  content:
    source:
      modifications:
      - action: replace
        match: "COPY --from=stage1 /cpagent-bin/ /usr/bin/"
        replacement: |-
          COPY --from=stage1 /cpagent-bin/ /usr/bin/
          RUN rm /etc/yum.repos.d/art-*.repo
