# CI image should build only when golang stream is updated, see ART-8364
# this also turns off ci_alignment:mirroring for now
mode: disabled
content:
  set_build_variables: false
  source:
    dockerfile: ci_images/rhel-9/ci-openshift-golang-builder-latest/Dockerfile
    git:
      branch:
        target: art_6804_416
      url: git@github.com:openshift-eng/ocp-build-data.git
      web: https://github.com/thegreyd/ocp-build-data
    ci_alignment:
      enabled: false
      mirror: true
      mirror_manifest_list: true
      upstream_image: registry.ci.openshift.org/ocp-multi/builder:rhel-9-golang-latest-openshift-{MAJOR}.{MINOR}
    modifications:
    - action: add
      doozer_source: inject-art-repos.sh
      path: inject-art-repos.sh
      overwriting: true
from:
  stream: rhel-9-golang
labels:
  io.k8s.description: golang builder image for Red Hat CI
distgit:
  branch: rhaos-{MAJOR}.{MINOR}-rhel-9
  component: ci-openshift-golang-builder-latest-container
name: openshift/ci-golang-builder-latest
for_payload: false
for_release: false
owners:
- aos-team-art@redhat.com
maintainer:
  component: Release
