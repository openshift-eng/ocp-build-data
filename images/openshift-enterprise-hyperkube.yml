container_yaml:
  go:
    modules:
    - module: k8s.io/kubernetes
content:
  source:
    dockerfile: openshift-hack/images/hyperkube/Dockerfile.rhel
    git:
      branch:
        target: release-{MAJOR}.{MINOR}
      url: git@github.com:openshift-priv/kubernetes.git
    modifications:
    - action: replace
      match: "COPY . ."
      replacement: "COPY . .\nRUN rm -rf unpacked_remote_sources"  # FIXME: Workaround for CLOUDBLD-8974
    - action: replace
      match: "make WHAT="
      replacement: "make GOFLAGS='-mod=vendor -p=4' WHAT="
    ci_alignment:
      streams_prs:
        ci_build_root:
          stream: rhel-8-golang-ci-build-root
distgit:
  namespace: containers
enabled_repos:
- rhel-8-baseos-rpms
- rhel-8-appstream-rpms
- rhel-8-server-ose-rpms-embargoed
for_payload: true
from:
  builder:
  - stream: golang
  member: openshift-enterprise-base
labels:
  License: GPLv2+
  io.k8s.description: OpenShift is a platform for developing, building, and deploying
    containerized applications.
  io.k8s.display-name: OpenShift Kubernetes Server Commands
  io.openshift.tags: openshift,hyperkube
  vendor: Red Hat
name: openshift/ose-hyperkube
owners:
- aos-master@redhat.com
