content:
  source:
    dockerfile: Dockerfile
    modifications:
    - action: replace
      match: "ARG RHEL_VERSION=''"
      replacement: "ARG RHEL_VERSION='9.6'"
    # Uncomment the following sections to pin specific kernel versions
    # - action: replace
    #   match: "ARG KERNEL_VERSION=''"
    #   replacement: "ARG KERNEL_VERSION='1.2.3'"
    # - action: replace
    #   match: "ARG RT_KERNEL_VERSION=''"
    #   replacement: "ARG RT_KERNEL_VERSION='1.2.3'"
    git:
      branch:
        target: release-{MAJOR}.{MINOR}
      url: git@github.com:openshift-priv/driver-toolkit.git
      web: https://github.com/openshift/driver-toolkit
distgit:
  branch: rhaos-{MAJOR}.{MINOR}-rhel-9
  component: driver-toolkit-container
delivery:
  # Maps to honeybadger repo_name
  repo_name: driver-toolkit
  delivery_repo_names:
  - openshift4/driver-toolkit-rhel9
enabled_repos:
- rhel-9-server-ose-rpms-embargoed
- rhel-9-minimal-baseos-rpms
- rhel-9-minimal-appstream-rpms
- rhel-9-rt-rpms
- rhel-9-nfv
- rhel-9-highavailability
for_payload: true
from:
  member: openshift-enterprise-base-rhel9-minimal
name: openshift/driver-toolkit-rhel9
payload_name: driver-toolkit
owners:
- edge-sro@redhat.com
konflux:
  vm_override:
    aarch64: linux-d160-m2xlarge/arm64
okd:
  content:
    source:
      modifications:
      - action: replace
        match: "diff --side-by-side <(rpm -qi kernel-core | grep 'Source RPM') <(rpm -qi kernel-rt-core | grep 'Source RPM'); \\"
        replacement: |-
          diff --side-by-side <(rpm -qi kernel-core | grep 'Source RPM') <(rpm -qi kernel-rt-core | grep 'Source RPM') || true; \
  enabled_repos:
  - rhel-9-nfv
  from:
    stream: centos_stream10
