container_yaml:
  go:
    modules:
    - module: github.com/openshift/driver-toolkit
content:
  source:
    dockerfile: Dockerfile
    modifications:
    - action: replace
      match: "ARG RHEL_VERSION=''"
      replacement: "ARG RHEL_VERSION='8.2'"

    # Uncomment the following sections to pin specific kernel versions

    - action: replace
      match: "ARG KERNEL_VERSION=''"
      replacement: "ARG KERNEL_VERSION='4.18.0-193.60.2.el8_2'"

    - action: replace
      match: "ARG RT_KERNEL_VERSION=''"
      replacement: "ARG RT_KERNEL_VERSION='4.18.0-193.60.2.rt13.112.el8_2'"

    # Workaround to get same perl-* version across different arches
    - action: replace
      match: "RUN yum -y install \\"
      replacement: "RUN yum -y install perl-macros-5.26.3-418.el8_2.1 perl-Errno-1.28-418.el8_2.1 perl-libs-5.26.3-418.el8_2.1 perl-interpreter-5.26.3-418.el8_2.1 perl-IO-1.38-418.el8_2.1 \\"
    git:
      branch:
        target: release-{MAJOR}.{MINOR}
      url: git@github.com:openshift-priv/driver-toolkit.git
enabled_repos:
- rhel-8-baseos-rpms
- rhel-8-rt-rpms
- rhel-8-appstream-rpms
for_payload: true
from:
  member: openshift-enterprise-base
labels:
  io.openshift.release.operator: "true"
name: openshift/ose-driver-toolkit
owners:
- openshift-psap@redhat.com
