content:
  source:
    git:
      branch:
        target: release-{MAJOR}.{MINOR}
      url: git@github.com:openshift-priv/machine-os-images.git
      web: https://github.com/openshift/machine-os-images
    okd_alignment:
      build_args:
      - name: DIRECT_DOWNLOAD
        value: "true"
distgit:
  branch: rhaos-{MAJOR}.{MINOR}-rhel-9
  component: ose-machine-os-images-container
delivery:
  # Maps to honeybadger repo_name
  repo_name: ose-machine-os-images
  delivery_repo_names:
  - openshift4/ose-machine-os-images-rhel9
enabled_repos:
- rhel-9-baseos-rpms
- rhel-9-appstream-rpms
- rhel-9-server-ose-rpms-embargoed
for_payload: true
from:
  builder:
  - member: ose-installer
  member: openshift-enterprise-base-rhel9
name: openshift/ose-machine-os-images-rhel9
payload_name: machine-os-images
owners:
- metal-platform@redhat.com
konflux:
  vm_override:
    # ref thread: https://redhat-internal.slack.com/archives/C04PZ7H0VA8/p1743022042311039
    # can be removed after whilelist is in
    x86_64: linux/amd64
  cachi2:
    lockfile:
      rpms:
      - jq
      - coreos-installer
      - cryptsetup-libs
      - device-mapper
      - device-mapper-libs
      - kbd
      - kbd-legacy
      - kbd-misc
      - kmod
      - kpartx
      - oniguruma
      - s390utils-core
      - systemd-udev
      inspect_parent: false
  network_mode: open  # cannot install signed rpms from unreleased ose-rpms repo - ART-14122
