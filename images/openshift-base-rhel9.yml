base_only: true
content:
  source:
    git:
      branch:
        target: openshift-base-rhel9
      url: git@github.com:openshift-eng/ocp-build-data.git
      web: https://github.com/openshift-eng/ocp-build-data
    ci_alignment:
      streams_prs:
        enabled: false
      mirror: true
      # The upstream_image_base serves as a starting point for the upstream_image.
      # ART will mirror the brew build out to upstream_image_base.
      # ART does not mirror the upstream_image in this case. A buildconfig,
      # generated by images:streams is triggered when upstream_image_base is updated.
      # The output of this buildconfig is upstream_image.
      # This buildconfig layers on files necessary for the resulting upstream_image CI image
      # to pull RPM dependencies from the CDN & reposync repositories.
      upstream_image_base: registry.ci.openshift.org/ocp/builder:rhel-9-base-openshift-{MAJOR}.{MINOR}.art
      # Note that it must be qualified by {MAJOR}.{MINOR} so that it installs non-CDN
      # rpms for the appropriate release.
      transform: rhel-9/base-repos
      upstream_image: registry.ci.openshift.org/ocp/builder:rhel-9-base-openshift-{MAJOR}.{MINOR}
    okd_alignment:
      resolve_as:
        stream: centos_stream9
distgit:
  branch: rhaos-{MAJOR}.{MINOR}-rhel-9
  component: openshift-base-rhel9-container
enabled_repos:
- rhel-9-baseos-rpms
- rhel-9-appstream-rpms
  # sometimes we ship RHEL content ahead of RHEL (usually for RHCOS).
  # update with that content too so we avoid out-of-date assembly issues:
- rhel-9-server-ose-rpms-embargoed
for_payload: false
for_release: false
from:
  stream: rhel9
name: openshift/base-rhel9
owners:
- aos-team-art@redhat.com
canonical_builders_from_upstream: false
