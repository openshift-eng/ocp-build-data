arches:
- x86_64
branch: rhaos-{MAJOR}.{MINOR}-rhel-7
name: openshift-{MAJOR}.{MINOR}
urls:
  brewhub: https://brewhub.engineering.redhat.com/brewhub
  brew_image_host: brew-pulp-docker01.web.prod.ext.phx2.redhat.com:8888
  cgit: http://pkgs.devel.redhat.com/cgit
non_release:
  images:
  - openshift-enterprise-base
  - atomic-openshift-metrics-server-container
  - atomic-openshift-cluster-autoscaler-container
  rpms:
  - atomic-openshift-metrics-server-container
  - atomic-openshift-cluster-autoscaler-container
push:
  registries:
  - registry.reg-aws.openshift.com:443
repos:
  rhel-7-server-ansible-2.4-rpms:
    conf:
      baseurl: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/ansible/2.4/os/
    content_set:
      default: rhel-7-server-ansible-2.4-rpms
  rhel-7-server-ansible-2.5-rpms:
    conf:
      baseurl: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/ansible/2.5/os/
    content_set:
      default: rhel-7-server-ansible-2.5-rpms
  rhel-7-server-ansible-2.6-rpms:
    conf:
      baseurl: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/ansible/2.6/os/
    content_set:
      default: rhel-7-server-ansible-2.6-rpms
  rhel-7-server-rhceph-3-tools-rpms:
    conf:
      baseurl: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/rhceph-tools/3/os/
    content_set:
      default: rhel-7-server-rhceph-3-tools-rpms
  rhel-fast-datapath-htb-rpms:
    conf:
      baseurl: http://pulp.dist.prod.ext.phx2.redhat.com/content/htb/rhel/server/7/x86_64/fast-datapath/os/
    content_set:
      default: rhel-7-fast-datapath-htb-rpms
  rhel-fast-datapath-rpms:
    conf:
      baseurl:
        signed: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/fast-datapath/os/
        unsigned: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/fast-datapath/os/
    content_set:
      default: rhel-7-fast-datapath-rpms
  rhel-server-extras-rpms:
    conf:
      baseurl: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/extras/os/
    content_set:
      default: rhel-7-server-extras-rpms
  rhel-server-optional-rpms:
    conf:
      baseurl: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/optional/os/
      enabled: 1
    content_set:
      default: rhel-7-server-optional-rpms
  rhel-server-ose-OLD_NODE_JS-rpms:
    conf:
      baseurl: http://download.lab.bos.redhat.com/rcm-guest/puddles/RHAOS/AtomicOpenShift-signed/3.2/building/RH7-RHAOS-3.2/x86_64/os/
    content_set:
      default: rhel-7-server-ose-3.2-rpms
  rhel-server-ose-rpms:
    conf:
      baseurl:
        signed: http://download.lab.bos.redhat.com/rcm-guest/puddles/RHAOS/AtomicOpenShift-signed/{MAJOR}.{MINOR}/building/RH7-RHAOS-{MAJOR}.{MINOR}/x86_64/os
        unsigned: http://download.lab.bos.redhat.com/rcm-guest/puddles/RHAOS/AtomicOpenShift/{MAJOR}.{MINOR}/building/x86_64/os
    content_set:
      default: rhel-7-server-ose-{MAJOR}.{MINOR}-rpms
      optional: true
  rhel-server-rh-common-rpms:
    conf:
      baseurl: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/rh-common/os/
    content_set:
      default: rhel-7-server-rh-common-rpms
  rhel-server-rhscl-rpms:
    conf:
      baseurl: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/rhscl/1/os/
    content_set:
      default: rhel-server-rhscl-7-rpms
  rhel-server-rpms:
    conf:
      baseurl: http://pulp.dist.prod.ext.phx2.redhat.com/content/dist/rhel/server/7/7Server/x86_64/os/
      enabled: 1
    content_set:
      default: rhel-7-server-rpms
vars:
  MAJOR: 4
  MINOR: 0
image_build_log_scanner:
  matches:
  - "No package .* available"
  - "Failed component comparison for components:.*"
  files:
  - x86_64.log
  - ppc64le.log
  - task_failed.log
  - orchestrator.log
